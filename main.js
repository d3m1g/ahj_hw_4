(()=>{"use strict";var e={};e.p="";const t=[{value:"Visa",img:e.p+"545145c60c726b397f61.png"},{value:"MasterCard",img:e.p+"5ca1f088ecdd58e47981.png"},{value:"American_Express",img:e.p+"23a3dfa76c9c691ff89c.png"},{value:"Discover",img:e.p+"dde5b0a44a37a5ef0adb.png"},{value:"JCB",img:e.p+"ef3040599497feebacda.png"},{value:"Diners_Club",img:e.p+"80002dcc2a51726b73da.png"},{value:"Mir",img:e.p+"48002a8c531bb110d9a5.png"}];const n=document.querySelector("body"),r=new class{constructor(e){this.parentEl=e}static get markup(){return`\n    <div class="container">\n      <h1 class="header">Check your credit card number</h1>\n\n      <ul class="cards">\n        ${t.map((e=>`\n            <li class="card" id="${e.value}">\n              <img src="${e.img}" alt="${e.value}">\n            </li>\n          `)).join("")}\n      </ul>\n\n      <form id="form" data-id="form-selector">\n        <div class="form-group">\n          <input class="form-control" id="card_number" data-id="input-selector" type="text" value="" name="card_number" placeholder="Credit card number">\n          <div class="tooltip">\n            <div class="tooltip-arrow"></div>\n            <div class="tooltip-inner">Please insert a credit card number</div>\n          </div>\n          <button class="form-btn" id="clickform" data-id="click-selector" type="button">Click to Validate</button>\n        </div>\n\n        <p class="message"></p>\n      </form>\n    </div>\n    `}static get formSelector(){return"[data-id=form-selector]"}static get inputSelector(){return"[data-id=input-selector]"}static get clickSelector(){return"[data-id=click-selector]"}bindToDOM(){this.parentEl.innerHTML=this.constructor.markup;this.parentEl.querySelector(this.constructor.inputSelector).addEventListener("keyup",(e=>this.onInput(e)));this.parentEl.querySelector(this.constructor.clickSelector).addEventListener("click",(e=>this.onClick(e)))}onInput(e){const t=function(e){let t="";const n=/^[24]/.test(e)?1:2,r=e.split("").slice(0,n).join("");return[{paymentSystemName:"Mir",num:[2]},{paymentSystemName:"Diners_Club",num:[30,36,38,39]},{paymentSystemName:"JCB",num:[31,35]},{paymentSystemName:"American_Express",num:[34,37]},{paymentSystemName:"Visa",num:[4]},{paymentSystemName:"MasterCard",num:[51,52,53,54,55]},{paymentSystemName:"Discover",num:[60,65]}].forEach((e=>e.num.some((e=>r==e))?t=e.paymentSystemName:"")),t}(e.currentTarget.value);this.parentEl.querySelectorAll(".card").forEach((e=>{e.id==t?e.classList.remove("card-hidden"):e.classList.add("card-hidden")}))}onClick(e){e.preventDefault();const t=function(e){if(!e||0==e){const e=document.querySelector(".tooltip");return e.classList.add("tooltip-show"),setTimeout((()=>{e.classList.remove("tooltip-show")}),3e3),""}return function(e){const t=e.split("").reverse().map(((e,t)=>(t+1)%2==0?(e*=2)>9?e-9:e:+e));let n=0;return t.forEach((e=>n+=e)),n%10==0?'Luhn Algorithm Check <span class="valid">&#10004;</span>':'Luhn Algorithm Check <span class="invalid">&#10006;</span>'}(e)}(this.parentEl.querySelector(this.constructor.inputSelector).value);document.querySelector(".message").innerHTML=`${t}`}}(n);r.bindToDOM()})();